const scrollers=document.querySelectorAll(".scroller-wrapper"),clamp=(t,e,s)=>Math.min(Math.max(t,e),s);scrollers.forEach((t=>{const e=t.querySelector(".scroller-fade"),s=t.querySelector(".left-control"),i=t.querySelector(".right-control"),l=t.querySelector(".inline-scroller"),r=l.children.length,n=t.classList.contains("rtl"),a=()=>{const e=t.querySelector(".inline-scroller :first-child"),s=e.getBoundingClientRect().width,i=getComputedStyle(e);return s+(parseInt(i.marginLeft)+parseInt(i.marginRight))},c=()=>{n?e.scrollTo(1e5,0):e.scrollTo(0,0),t.setAttribute("data-index",1)},d=()=>{s.classList.remove("visible"),e.classList.remove("fade-left")},o=()=>{i.classList.add("visible"),e.classList.add("fade-right")},u=()=>{i.classList.remove("visible"),e.classList.remove("fade-right")},g=()=>e.getBoundingClientRect().width*(parseInt(getComputedStyle(e).getPropertyValue("--mask-size"))/100);function L(){let i=t.getBoundingClientRect().width,l=e.scrollWidth,r=l-i,n=e.scrollLeft;n=clamp(n,0,r),l>i&&0!=n?(s.classList.add("visible"),e.classList.add("fade-left"),o()):l>i?(d(),o()):(d(),u()),n<3&&d(),Math.abs(l-(n+i))<3&&u()}const h=()=>{let s=t.getAttribute("data-index");s=parseInt(s),t.setAttribute("data-index",s);let i=t.getBoundingClientRect().width;const r=l.getBoundingClientRect().width;1==s?c():n?e.scrollTo(r-(a()*(s-1)-2*g())-i,0):e.scrollTo(a()*(s-1)-2*g(),0),L()},m=t=>{let e=t-1;return e<=1?1:e},f=t=>{let e=t+1;return e>=r?r:e};e.classList.add("no-anim"),c(),e.classList.remove("no-anim"),h(),i.addEventListener("click",(()=>{if(!i.classList.contains("visible"))return;let e=t.getAttribute("data-index");e=parseInt(e),t.setAttribute("data-index",n?m(e):f(e)),h()})),s.addEventListener("click",(()=>{if(!s.classList.contains("visible"))return;let e=t.getAttribute("data-index");e=parseInt(e),t.setAttribute("data-index",n?f(e):m(e)),h()})),window.addEventListener("resize",(()=>{h()})),e.addEventListener("scroll",L)}));